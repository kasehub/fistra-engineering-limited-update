<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - Fistra Engineering Limited</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Global Styles */
        :root {
            --primary: #5f0c06;
    --secondary: #2e86c1;
    --accent: #ffa255;
    --light: #f8f9fa;
    --dark: #5f0c06;
    --gray: #7f8c8d;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #fff;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 30px;
            background-color: var(--accent);
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }
        
        .btn:hover {
            background-color: #c0392b;
            transform: translateY(-2px);
        }
        
        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }
        
        .btn-outline:hover {
            background-color: var(--primary);
            color: white;
        }
        
        section {
            padding: 80px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 50px;
            color: var(--primary);
        }
        
        .section-title h2 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }
        
        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background-color: var(--accent);
        }
        
        .section-title p {
            font-size: 1.1rem;
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto;
        }
        
        /* Header & Navigation */
#header {
    background-color: white;
    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
    position: sticky;
    top: 0;
    z-index: 1000;
}

.header-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 0;
}

.logo {
    display: flex;
    align-items: center;
}

.logo h1 {
    font-size: 1.8rem;
    color: var(--primary);
    font-weight: 700;
}

.logo span {
    color: var(--accent);
}

.menu-toggle {
    display: none;
    font-size: 1.5rem;
    cursor: pointer;
    position: relative;
    z-index: 1001;
    width: 30px;
    height: 30px;
}

.menu-toggle .fa-times {
    display: none;
}

.menu-toggle.active .fa-bars {
    display: none;
}

.menu-toggle.active .fa-times {
    display: block;
}

nav {
    transition: all 0.3s ease;
}

nav ul {
    display: flex;
    list-style: none;
}

nav ul li {
    margin-left: 30px;
    position: relative;
}

nav ul li a {
    text-decoration: none;
    color: var(--dark);
    font-weight: 600;
    font-size: 1rem;
    transition: color 0.3s ease;
    position: relative;
    padding: 5px 0;
}

nav ul li a.contact-nav-btn {
    background-color: var(--accent);
    color: white;
    padding: 8px 20px;
    border-radius: 4px;
}

nav ul li a.contact-nav-btn:hover {
    background-color: #c0392b;
}

nav ul li a.contact-nav-btn::after {
    display: none;
}

nav ul li a:hover {
    color: var(--accent);
}

nav ul li a::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0;
    height: 2px;
    background-color: var(--accent);
    transition: width 0.3s ease;
}

nav ul li a:hover::after {
    width: 100%;
}
        
        /* Page Header */
        .page-header {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1516387938699-a93567ec168e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1500&q=80') no-repeat center center/cover;
            color: white;
            text-align: center;
            padding: 100px 0;
        }
        
        .page-header h1 {
            font-size: 3rem;
            margin-bottom: 20px;
        }
        
        .breadcrumb {
            display: flex;
            justify-content: center;
            list-style: none;
        }
        
        .breadcrumb li {
            margin: 0 10px;
        }
        
        .breadcrumb li a {
            color: white;
            text-decoration: none;
        }
        
        .breadcrumb li::after {
            content: '>';
            margin-left: 10px;
            color: var(--accent);
        }
        
        .breadcrumb li:last-child::after {
            content: '';
        }
        
        /* Contact Content */
        .contact-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
        }
        
        /* Contact Information */
        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        .contact-item {
            display: flex;
            align-items: flex-start;
            gap: 20px;
        }
        
        .contact-icon {
            width: 60px;
            height: 60px;
            background-color: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            flex-shrink: 0;
        }
        
        .contact-details h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        /* Contact Form */
        .contact-form {
            background-color: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: inherit;
            transition: border-color 0.3s ease;
        }
        
        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            border-color: var(--primary);
            outline: none;
        }
        
        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }
        
        /* Map Section */
        .map-section {
            margin-top: 80px;
        }
        
        .map-container {
            height: 400px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .map-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        /* FAQ Section */
        .faq {
            background-color: #f9f9f9;
        }
        
        .accordion {
            list-style: none;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .accordion-item {
            background-color: white;
            border-radius: 8px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .accordion-header {
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: var(--primary);
        }
        
        .accordion-header i {
            transition: transform 0.3s ease;
        }
        
        .accordion-content {
            padding: 0 20px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }
        
        .accordion-item.active .accordion-content {
            max-height: 500px;
            padding: 0 20px 20px;
        }
        
        .accordion-item.active .accordion-header i {
            transform: rotate(180deg);
        }
        
        /* CTA Section */
        .cta {
            background: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)), url('https://images.unsplash.com/photo-1516387938699-a93567ec168e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1500&q=80') no-repeat center center/cover;
            color: white;
            text-align: center;
            padding: 100px 0;
        }
        
        .cta h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }
        
        .cta p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 60px 0 30px;
        }
        
        .footer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-col h3 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
            color: white;
        }
        
        .footer-col h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 2px;
            background-color: var(--accent);
        }
        
        .footer-col p {
            margin-bottom: 20px;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 12px;
        }
        
        .footer-links a {
            color: #ddd;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .footer-links a:hover {
            color: var(--accent);
            padding-left: 5px;
        }
        
        .social-links {
            display: flex;
            gap: 15px;
        }
        
        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--primary);
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        
        .social-links a:hover {
            background-color: var(--accent);
            color: white;
            transform: translateY(-3px);
        }
        
        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Responsive Design */
        @media (max-width: 992px) {
            .contact-container {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
            }
            
            nav {
                position: fixed;
                top: 0;
                left: -100%;
                width: 50%;
                height: 100vh;
                background-color: rgba(255, 255, 255, 0.98);
                flex-direction: column;
                transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                box-shadow: none;
                z-index: 1000;
                padding-top: 80px;
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px);
            }
            
            nav.active {
                left: 0;
                box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);
            }
            
            nav ul {
                flex-direction: column;
                width: 100%;
                padding: 0 20px;
            }
            
            nav ul li {
                margin: 0;
                width: 100%;
                text-align: left;
                opacity: 0;
                transform: translateX(-20px);
                transition: all 0.3s ease;
                transition-delay: calc(0.1s * var(--i));
            }
            
            nav.active ul li {
                opacity: 1;
                transform: translateX(0);
            }
            
            nav ul li a {
                display: block;
                padding: 15px 0;
                border-bottom: 1px solid rgba(0, 0, 0, 0.05);
                font-size: 1.1rem;
                color: var(--dark);
            }
            
            nav ul li a.contact-nav-btn {
                margin-top: 10px;
                text-align: center;
                background-color: var(--accent);
                color: white;
                border-radius: 4px;
                border: none;
            }
            
            nav ul li a::after {
                display: none;
            }
            
            .header-container {
                padding: 15px 0;
                position: relative;
            }
            
            .logo h1 {
                font-size: 1.5rem;
            }
            
            .page-header h1 {
                font-size: 2.5rem;
            }
            
            .section-title h2 {
                font-size: 2rem;
            }
            
            .contact-form {
                padding: 25px;
            }
            
            .contact-item {
                flex-direction: column;
                text-align: center;
                gap: 10px;
            }
            .contact-info{
                align-items: center;
            }
            
            .contact-icon {
                align-self: center;
            }
        }
        /* Tablet Navigation */
@media (max-width: 992px) and (min-width: 769px) {
    nav ul li {
    margin-left: 20px;
    }
    
    nav ul li a {
    font-size: 0.9rem;
    }
    
    .logo h1 {
    font-size: 1.6rem;
    }
    }
    
    /* Prevent body scroll when menu is open */
    body.menu-open {
    overflow: hidden;
    }
    
    /* Overlay for mobile menu */
    .menu-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 999;
    }
    
    body.menu-open .menu-overlay {
    display: block;
    }
    </style>
</head>
<body>
    <!-- Header & Navigation -->
    <div id="header"></div>


    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Contact Us</h1>
            <ul class="breadcrumb">
                <li><a href="index.html">Home</a></li>
                <li>Contact</li>
            </ul>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact">
        <div class="container">
            <div class="section-title">
                <h2>Get In Touch</h2>
                <p>Have a project in mind or need expert engineering advice? Reach out to our team.</p>
            </div>
            
            <div class="contact-container">
                <!-- Contact Information -->
                <div class="contact-info">
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Location</h3>
                            <p>Head Office: Lusaka, Zambia</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Phone</h3>
                            <p>+260766991797</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Email</h3>
                            <p>info@fistraengineering.com</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Business Hours</h3>
                            <p>Monday - Friday: 8:00 AM - 6:00 PM</p>
                            <p>Saturday: 9:00 AM - 1:00 PM</p>
                            <p>Sunday: Closed</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-globe"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Follow Us</h3>
                            <div class="social-links" >
                                <a href="#"><i class="fab fa-linkedin"></i></a>
                                <a href="#"><i class="fab fa-twitter"></i></a>
                                <a href="#"><i class="fab fa-facebook"></i></a>
                                <a href="#"><i class="fab fa-instagram"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Contact Form -->
                <div class="contact-form">
                    <form id="contactForm" action="https://api.web3forms.com/submit" method="POST">

                        <!-- REQUIRED Web3Forms Access Key -->
                        <input type="hidden" name="access_key" value="97534e08-93e9-406d-b7ce-bf267ab609f1">
                    
                        <div class="form-group">
                            <label for="name">Your Name</label>
                            <input type="text" id="name" name="name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Your Email</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone">
                        </div>
                        
                        <div class="form-group">
                            <label for="service">Service Interested In</label>
                            <select id="service" name="service">
                                <option value="">Select a service</option>
                                <option value="structural">Structural Engineering</option>
                                <option value="fire">Fire Engineering</option>
                                <option value="forensic">Forensic Engineering</option>
                                <option value="research">Research & Development</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="message">Your Message</label>
                            <textarea id="message" name="message" required></textarea>
                        </div>
                        
                        <button type="submit" class="btn">Send Message</button>
                    </form>
                                        
                </div>
            </div>
        </div>
    </section>

    <!-- Map Section -->
    <section class="map-section">
        <div class="container">
            <div class="map-container">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d256.1040259628064!2d28.348477476803737!3d-15.450159212723664!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x19408db93bcf7d59%3A0x121885c79ca2966f!2sFiSTra%20Engineering%20Limited!5e1!3m2!1sen!2szm!4v1767266574205!5m2!1sen!2szm" allowfullscreen="" loading="lazy"></iframe>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq">
        <div class="container">
            <div class="section-title">
                <h2>Frequently Asked Questions</h2>
                <p>Find answers to common questions about our engineering services.</p>
            </div>
            
            <ul class="accordion">
                <li class="accordion-item">
                    <div class="accordion-header">
                        <span>What types of projects does Fistra Engineering handle?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="accordion-content">
                        <p>We specialize in a wide range of projects including commercial buildings, residential complexes, industrial facilities, bridges, tunnels, and special structures. Our expertise covers both structural design and fire safety engineering for projects of all scales.</p>
                    </div>
                </li>
                
                <li class="accordion-item">
                    <div class="accordion-header">
                        <span>How long does a typical engineering project take?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="accordion-content">
                        <p>The timeline varies depending on the project's complexity and scale. Simple consultations might take a few weeks, while comprehensive design projects for large structures can take several months. We provide detailed timelines during our initial consultation.</p>
                    </div>
                </li>
                
                <li class="accordion-item">
                    <div class="accordion-header">
                        <span>Do you work with international clients?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="accordion-content">
                        <p>Yes, we have experience working with clients across the globe. Our team is familiar with international building codes and standards, and we can adapt our services to meet local requirements in different countries.</p>
                    </div>
                </li>
                
                <li class="accordion-item">
                    <div class="accordion-header">
                        <span>What is your approach to sustainable engineering?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="accordion-content">
                        <p>Sustainability is core to our engineering philosophy. We focus on material efficiency, energy performance, lifecycle assessment, and resilience in all our designs. We aim to minimize environmental impact while maximizing safety and functionality.</p>
                    </div>
                </li>
                
                <li class="accordion-item">
                    <div class="accordion-header">
                        <span>How can I request a quote for my project?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="accordion-content">
                        <p>You can fill out our contact form with details about your project, email us directly, or call our office. We'll schedule a consultation to understand your needs and provide a detailed quote based on your specific requirements.</p>
                    </div>
                </li>
            </ul>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta">
        <div class="container">
            <h2>Ready to Start Your Project?</h2>
            <p>Contact us today to discuss how our engineering expertise can bring your vision to life with innovative solutions and uncompromising safety standards.</p>
            <a href="Contact.html" class="btn">Get in Touch</a>
        </div>
    </section>

    <!-- Footer -->
    <div id="footer"></div>

    <script>
        function loadHTML(id, file, callback) {
            fetch(file)
                .then(response => response.text())
                .then(data => {
                    document.getElementById(id).innerHTML = data;
                    if (callback) callback();
                })
                .catch(err => console.error('Error loading HTML:', err));
        }
          
        loadHTML("header", "header.html", initMobileMenu);
          loadHTML("footer", "footer.html");
          
             
          function initMobileMenu() {
            const menuToggle = document.getElementById('menu-toggle');
            const nav = document.getElementById('nav');
            const body = document.body;
        
            if (!menuToggle || !nav) {
                console.error('Menu elements not found');
                return;
            }
        
            // Add index to menu items for staggered animation
            const navItems = document.querySelectorAll('#nav ul li');
            navItems.forEach((item, index) => {
                item.style.setProperty('--i', index);
            });
        
            // Create overlay
            const overlay = document.createElement('div');
            overlay.className = 'menu-overlay';
            document.body.appendChild(overlay);
        
            function toggleMenu() {
                const isActive = nav.classList.contains('active');
        
                if (isActive) {
                    nav.classList.remove('active');
                    menuToggle.classList.remove('active');
                    body.classList.remove('menu-open');
                    overlay.style.opacity = '0';
                    setTimeout(() => overlay.style.display = 'none', 300);
                } else {
                    nav.classList.add('active');
                    menuToggle.classList.add('active');
                    body.classList.add('menu-open');
                    overlay.style.display = 'block';
                    setTimeout(() => overlay.style.opacity = '1', 10);
                }
            }
        
            menuToggle.addEventListener('click', e => {
                e.stopPropagation();
                toggleMenu();
            });
        
            overlay.addEventListener('click', toggleMenu);
        
            document.querySelectorAll('#nav ul li a').forEach(link => {
                link.addEventListener('click', () => {
                    if (window.innerWidth <= 768) toggleMenu();
                });
            });
        
            document.addEventListener('click', e => {
                if (
                    window.innerWidth <= 768 &&
                    nav.classList.contains('active') &&
                    !nav.contains(e.target) &&
                    !menuToggle.contains(e.target)
                ) {
                    toggleMenu();
                }
            });
        
            window.addEventListener('resize', () => {
                if (window.innerWidth > 768) {
                    nav.classList.remove('active');
                    menuToggle.classList.remove('active');
                    body.classList.remove('menu-open');
                    overlay.style.display = 'none';
                }
            });
        
            document.addEventListener('keydown', e => {
                if (e.key === 'Escape' && nav.classList.contains('active')) {
                    toggleMenu();
                }
            });
        }
     
    // Contact form submission with validation + Web3Forms integration
document.getElementById('contactForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    // Basic form validation
    const name = document.getElementById('name').value.trim();
    const email = document.getElementById('email').value.trim();
    const message = document.getElementById('message').value.trim();
    const service = document.getElementById('service').value;
    
    if (!name || !email || !message || !service) {
        alert('Please fill in all required fields: Name, Email, Services and Message.');
        return;
    }
    
    // Email validation
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(email)) {
        alert('Please enter a valid email address.');
        return;
    }
    
    // Show loading state
    const submitBtn = this.querySelector('.btn');
    const originalText = submitBtn.textContent;
    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
    submitBtn.disabled = true;

    // Web3Forms submission
    const form = this;
    const formData = new FormData(form);

    fetch("https://api.web3forms.com/submit", {
        method: "POST",
        body: formData
    })
    .then(async response => {
        let result = await response.json();

        if (result.success) {
            alert('Thank you for your message, ' + name + '! We will get back to you soon at ' + email + '.');
            form.reset();
        } else {
            alert('Submission failed. Please try again.');
        }

        // Reset button
        submitBtn.textContent = originalText;
        submitBtn.disabled = false;
    })
    .catch(() => {
        alert('Network error. Please try again.');

        // Reset button
        submitBtn.textContent = originalText;
        submitBtn.disabled = false;
    });
});
     
     // Smooth scrolling for anchor links
     document.querySelectorAll('a[href^="#"]').forEach(anchor => {
         anchor.addEventListener('click', function(e) {
             const targetId = this.getAttribute('href');
             
             // Only handle internal page anchors
             if (targetId.startsWith('#') && targetId.length > 1) {
                 e.preventDefault();
                 const targetElement = document.querySelector(targetId);
                 
                 if (targetElement) {
                     // Calculate offset for header height
                     const headerHeight = document.querySelector('header').offsetHeight;
                     const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset;
                     
                     window.scrollTo({
                         top: targetPosition - headerHeight - 20,
                         behavior: 'smooth'
                     });
                 }
             }
         });
     });
     
     // Add active class to current page in navigation
     function setActiveNavItem() {
         const currentPage = window.location.pathname.split('/').pop() || 'index.html';
         const navLinks = document.querySelectorAll('nav ul li a');
         
         navLinks.forEach(link => {
             const linkPage = link.getAttribute('href');
             if (linkPage === currentPage) {
                 link.classList.add('active');
             }
         });
     }
     
     // Call when page loads
     document.addEventListener('DOMContentLoaded', function() {
         setActiveNavItem();
         
         // Add animation on scroll for elements
         const animateOnScroll = () => {
             const elements = document.querySelectorAll('.service-card, .project-card, .value-item, .cert-card, .team-member, .benefit-item');
             
             elements.forEach(element => {
                 const elementPosition = element.getBoundingClientRect().top;
                 const screenPosition = window.innerHeight / 1.2;
                 
                 if (elementPosition < screenPosition) {
                     element.style.opacity = '1';
                     element.style.transform = 'translateY(0)';
                 }
             });
         };
         
         // Set initial state for animation
         document.querySelectorAll('.service-card, .project-card, .value-item, .cert-card, .team-member, .benefit-item').forEach(el => {
             el.style.opacity = '0';
             el.style.transform = 'translateY(20px)';
             el.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
         });
         
         // Run on load and scroll
         animateOnScroll();
         window.addEventListener('scroll', animateOnScroll);
     });
     
     // Fix for mobile viewport height
     function setVhProperty() {
         const vh = window.innerHeight * 0.01;
         document.documentElement.style.setProperty('--vh', `${vh}px`);
     }
     
     // Set viewport height on load and resize
     setVhProperty();
     window.addEventListener('resize', setVhProperty);
     window.addEventListener('orientationchange', setVhProperty);
     
     // Optional: Lazy loading for images
     if ('IntersectionObserver' in window) {
         const imageObserver = new IntersectionObserver((entries, observer) => {
             entries.forEach(entry => {
                 if (entry.isIntersecting) {
                     const img = entry.target;
                     img.src = img.dataset.src;
                     img.classList.add('loaded');
                     observer.unobserve(img);
                 }
             });
         });
         
         document.querySelectorAll('img[data-src]').forEach(img => {
             imageObserver.observe(img);
         });
     }

        // FAQ accordion functionality
        const accordionItems = document.querySelectorAll('.accordion-item');
        
        accordionItems.forEach(item => {
            const header = item.querySelector('.accordion-header');
            
            header.addEventListener('click', () => {
                // Close all other items
                accordionItems.forEach(otherItem => {
                    if (otherItem !== item) {
                        otherItem.classList.remove('active');
                    }
                });
                
                // Toggle current item
                item.classList.toggle('active');
            });
        });
        (function () {
            const params = new URLSearchParams(window.location.search);
        
            if (params.get('source') !== 'project') return;
        
            const projectTitle = params.get('title');
            const service = params.get('service');
        
            const serviceSelect = document.getElementById('service');
            const messageField = document.getElementById('message');
        
            // Auto-select service
            if (service && serviceSelect) {
                serviceSelect.value = service;
            }
        
            // Pre-fill message
            if (projectTitle && messageField) {
                messageField.value =
                    `Hello Fistra Engineering,\n\n` +
                    `I am interested in starting a project similar to "${decodeURIComponent(projectTitle)}".\n\n` +
                    `Please contact me to discuss scope, timeline, and requirements.\n\n` +
                    `Regards.`;
            }
        })();
        // ===== AUTO-PRESELECT SERVICE FROM URL =====
        (function () {
            const params = new URLSearchParams(window.location.search);
        
            const serviceParam = params.get('service');
            const sourceParam  = params.get('source');
        
            const serviceSelect = document.getElementById('service');
            const messageField  = document.getElementById('message');
        
            // ---- Preselect service (allowed for service & project) ----
            if (serviceParam && serviceSelect) {
                serviceSelect.value = serviceParam;
                serviceSelect.classList.add('auto-selected');
            }
        
            // ---- Prefill message ONLY if source is service ----
            if (sourceParam === 'service' && messageField && serviceSelect) {
                const serviceName =
                    serviceSelect.options[serviceSelect.selectedIndex]?.text || 'this service';
        
                messageField.value =
                    `Hello Fistra Engineering,\n\n` +
                    `I would like to request more information regarding ${serviceName}.\n\n` +
                    `Please contact me to discuss the scope, timeline, and requirements.\n\n` +
                    `Kind regards.`;
            }
        
        })();
    </script>
</body>
</html>
